-- Comprehensive seed data for analytics application
-- This migration creates realistic sample data for projects, users, sessions, and events

-- Insert sample projects
INSERT INTO projects (id, name, domain, api_key, description, owner_name, owner_email, total_events, total_sessions, total_users, is_active, created_at, updated_at) VALUES
('550e8400-e29b-41d4-a716-446655440001', 'TechCorp Website', 'techcorp.com', 'ak_12345678_87654321', 'Main corporate website for TechCorp', 'Alice Johnson', 'alice@techcorp.com', 150, 45, 35, true, NOW() - INTERVAL '30 days', NOW() - INTERVAL '1 day'),
('550e8400-e29b-41d4-a716-446655440002', 'E-Commerce Store', 'shop.example.com', 'ak_abcdefgh_hijklmno', 'Online store for electronics and gadgets', 'Bob Smith', 'bob@shop.example.com', 320, 85, 70, true, NOW() - INTERVAL '25 days', NOW() - INTERVAL '2 hours'),
('550e8400-e29b-41d4-a716-446655440003', 'Blog Platform', 'myblog.net', 'ak_zyxwvuts_ponmlkji', 'Personal blog about technology and lifestyle', 'Carol White', 'carol@myblog.net', 75, 25, 20, true, NOW() - INTERVAL '20 days', NOW() - INTERVAL '30 minutes'),
('550e8400-e29b-41d4-a716-446655440004', 'News Portal', 'dailynews.org', 'ak_qrstuvwx_fedcba98', 'Daily news and current affairs website', 'David Brown', 'david@dailynews.org', 500, 120, 95, true, NOW() - INTERVAL '45 days', NOW() - INTERVAL '5 minutes');

-- Insert comprehensive user data
INSERT INTO users (id, first_seen, last_seen, session_count, event_count, country, city, created_at, updated_at) VALUES
-- TechCorp users
('user_tc_001', NOW() - INTERVAL '15 days', NOW() - INTERVAL '30 minutes', 8, 45, 'US', 'San Francisco', NOW() - INTERVAL '15 days', NOW() - INTERVAL '30 minutes'),
('user_tc_002', NOW() - INTERVAL '12 days', NOW() - INTERVAL '2 hours', 6, 32, 'UK', 'London', NOW() - INTERVAL '12 days', NOW() - INTERVAL '2 hours'),
('user_tc_003', NOW() - INTERVAL '10 days', NOW() - INTERVAL '1 day', 4, 28, 'CA', 'Vancouver', NOW() - INTERVAL '10 days', NOW() - INTERVAL '1 day'),
('user_tc_004', NOW() - INTERVAL '8 days', NOW() - INTERVAL '3 hours', 5, 35, 'DE', 'Berlin', NOW() - INTERVAL '8 days', NOW() - INTERVAL '3 hours'),
('user_tc_005', NOW() - INTERVAL '5 days', NOW() - INTERVAL '45 minutes', 3, 18, 'AU', 'Sydney', NOW() - INTERVAL '5 days', NOW() - INTERVAL '45 minutes'),

-- E-commerce users
('user_ec_001', NOW() - INTERVAL '20 days', NOW() - INTERVAL '1 hour', 12, 85, 'US', 'New York', NOW() - INTERVAL '20 days', NOW() - INTERVAL '1 hour'),
('user_ec_002', NOW() - INTERVAL '18 days', NOW() - INTERVAL '4 hours', 9, 65, 'FR', 'Paris', NOW() - INTERVAL '18 days', NOW() - INTERVAL '4 hours'),
('user_ec_003', NOW() - INTERVAL '15 days', NOW() - INTERVAL '2 days', 7, 48, 'JP', 'Tokyo', NOW() - INTERVAL '15 days', NOW() - INTERVAL '2 days'),
('user_ec_004', NOW() - INTERVAL '12 days', NOW() - INTERVAL '6 hours', 8, 55, 'BR', 'São Paulo', NOW() - INTERVAL '12 days', NOW() - INTERVAL '6 hours'),
('user_ec_005', NOW() - INTERVAL '8 days', NOW() - INTERVAL '2 hours', 6, 42, 'IN', 'Mumbai', NOW() - INTERVAL '8 days', NOW() - INTERVAL '2 hours'),

-- Blog users
('user_bg_001', NOW() - INTERVAL '12 days', NOW() - INTERVAL '1 hour', 5, 25, 'US', 'Seattle', NOW() - INTERVAL '12 days', NOW() - INTERVAL '1 hour'),
('user_bg_002', NOW() - INTERVAL '10 days', NOW() - INTERVAL '3 hours', 4, 20, 'UK', 'Manchester', NOW() - INTERVAL '10 days', NOW() - INTERVAL '3 hours'),
('user_bg_003', NOW() - INTERVAL '8 days', NOW() - INTERVAL '5 hours', 3, 15, 'CA', 'Toronto', NOW() - INTERVAL '8 days', NOW() - INTERVAL '5 hours'),
('user_bg_004', NOW() - INTERVAL '6 days', NOW() - INTERVAL '1 day', 2, 12, 'NL', 'Amsterdam', NOW() - INTERVAL '6 days', NOW() - INTERVAL '1 day'),

-- News portal users
('user_np_001', NOW() - INTERVAL '25 days', NOW() - INTERVAL '15 minutes', 15, 120, 'US', 'Los Angeles', NOW() - INTERVAL '25 days', NOW() - INTERVAL '15 minutes'),
('user_np_002', NOW() - INTERVAL '22 days', NOW() - INTERVAL '1 hour', 12, 95, 'UK', 'Birmingham', NOW() - INTERVAL '22 days', NOW() - INTERVAL '1 hour'),
('user_np_003', NOW() - INTERVAL '20 days', NOW() - INTERVAL '30 minutes', 10, 78, 'DE', 'Munich', NOW() - INTERVAL '20 days', NOW() - INTERVAL '30 minutes'),
('user_np_004', NOW() - INTERVAL '18 days', NOW() - INTERVAL '2 hours', 8, 65, 'FR', 'Lyon', NOW() - INTERVAL '18 days', NOW() - INTERVAL '2 hours'),
('user_np_005', NOW() - INTERVAL '15 days', NOW() - INTERVAL '45 minutes', 9, 72, 'IT', 'Rome', NOW() - INTERVAL '15 days', NOW() - INTERVAL '45 minutes');

-- Insert session data for TechCorp
INSERT INTO sessions (id, user_id, start_time, end_time, duration, event_count, landing_page, referrer, user_agent, ip_address, country, city, created_at, updated_at) VALUES
-- TechCorp sessions
('sess_tc_001', 'user_tc_001', NOW() - INTERVAL '2 hours', NOW() - INTERVAL '1 hour 30 minutes', 1800, 6, 'https://techcorp.com/', 'https://google.com/search?q=techcorp', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', NOW() - INTERVAL '2 hours', NOW() - INTERVAL '1 hour 30 minutes'),
('sess_tc_002', 'user_tc_001', NOW() - INTERVAL '1 day', NOW() - INTERVAL '23 hours 45 minutes', 900, 4, 'https://techcorp.com/products', 'https://twitter.com', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', NOW() - INTERVAL '1 day', NOW() - INTERVAL '23 hours 45 minutes'),
('sess_tc_003', 'user_tc_002', NOW() - INTERVAL '3 hours', NOW() - INTERVAL '2 hours 30 minutes', 1800, 5, 'https://techcorp.com/about', 'https://linkedin.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.2', 'UK', 'London', NOW() - INTERVAL '3 hours', NOW() - INTERVAL '2 hours 30 minutes'),
('sess_tc_004', 'user_tc_003', NOW() - INTERVAL '1 day 2 hours', NOW() - INTERVAL '1 day 1 hour', 3600, 7, 'https://techcorp.com/', null, 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36', '192.0.2.3', 'CA', 'Vancouver', NOW() - INTERVAL '1 day 2 hours', NOW() - INTERVAL '1 day 1 hour'),
('sess_tc_005', 'user_tc_004', NOW() - INTERVAL '4 hours', NOW() - INTERVAL '3 hours 15 minutes', 2700, 8, 'https://techcorp.com/careers', 'https://glassdoor.com', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.4', 'DE', 'Berlin', NOW() - INTERVAL '4 hours', NOW() - INTERVAL '3 hours 15 minutes'),

-- E-commerce sessions
('sess_ec_001', 'user_ec_001', NOW() - INTERVAL '1 hour', NOW() - INTERVAL '30 minutes', 1800, 12, 'https://shop.example.com/', 'https://google.com/search?q=electronics', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', NOW() - INTERVAL '1 hour', NOW() - INTERVAL '30 minutes'),
('sess_ec_002', 'user_ec_001', NOW() - INTERVAL '2 days', NOW() - INTERVAL '1 day 23 hours 30 minutes', 1800, 8, 'https://shop.example.com/products/laptops', 'https://facebook.com', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', NOW() - INTERVAL '2 days', NOW() - INTERVAL '1 day 23 hours 30 minutes'),
('sess_ec_003', 'user_ec_002', NOW() - INTERVAL '5 hours', NOW() - INTERVAL '4 hours 20 minutes', 2400, 10, 'https://shop.example.com/categories/smartphones', 'https://youtube.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.11', 'FR', 'Paris', NOW() - INTERVAL '5 hours', NOW() - INTERVAL '4 hours 20 minutes'),
('sess_ec_004', 'user_ec_003', NOW() - INTERVAL '2 days 3 hours', NOW() - INTERVAL '2 days 2 hours', 3600, 9, 'https://shop.example.com/', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '192.0.2.12', 'JP', 'Tokyo', NOW() - INTERVAL '2 days 3 hours', NOW() - INTERVAL '2 days 2 hours'),
('sess_ec_005', 'user_ec_004', NOW() - INTERVAL '6 hours', NOW() - INTERVAL '5 hours 30 minutes', 1800, 7, 'https://shop.example.com/deals', 'https://reddit.com', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36', '203.0.113.13', 'BR', 'São Paulo', NOW() - INTERVAL '6 hours', NOW() - INTERVAL '5 hours 30 minutes'),

-- Blog sessions
('sess_bg_001', 'user_bg_001', NOW() - INTERVAL '1 hour 30 minutes', NOW() - INTERVAL '45 minutes', 2700, 6, 'https://myblog.net/', 'https://google.com/search?q=tech+blog', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', NOW() - INTERVAL '1 hour 30 minutes', NOW() - INTERVAL '45 minutes'),
('sess_bg_002', 'user_bg_002', NOW() - INTERVAL '3 hours 15 minutes', NOW() - INTERVAL '2 hours 45 minutes', 1800, 5, 'https://myblog.net/posts/latest', 'https://twitter.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.21', 'UK', 'Manchester', NOW() - INTERVAL '3 hours 15 minutes', NOW() - INTERVAL '2 hours 45 minutes'),
('sess_bg_003', 'user_bg_003', NOW() - INTERVAL '5 hours 30 minutes', NOW() - INTERVAL '4 hours 45 minutes', 2700, 4, 'https://myblog.net/categories/lifestyle', 'https://pinterest.com', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '192.0.2.22', 'CA', 'Toronto', NOW() - INTERVAL '5 hours 30 minutes', NOW() - INTERVAL '4 hours 45 minutes'),

-- News portal sessions
('sess_np_001', 'user_np_001', NOW() - INTERVAL '20 minutes', NOW() - INTERVAL '5 minutes', 900, 8, 'https://dailynews.org/', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', NOW() - INTERVAL '20 minutes', NOW() - INTERVAL '5 minutes'),
('sess_np_002', 'user_np_001', NOW() - INTERVAL '1 hour 45 minutes', NOW() - INTERVAL '1 hour 15 minutes', 1800, 10, 'https://dailynews.org/breaking', 'https://google.com/news', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', NOW() - INTERVAL '1 hour 45 minutes', NOW() - INTERVAL '1 hour 15 minutes'),
('sess_np_003', 'user_np_002', NOW() - INTERVAL '1 hour 15 minutes', NOW() - INTERVAL '45 minutes', 1800, 7, 'https://dailynews.org/world', 'https://bbc.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.31', 'UK', 'Birmingham', NOW() - INTERVAL '1 hour 15 minutes', NOW() - INTERVAL '45 minutes'),
('sess_np_004', 'user_np_003', NOW() - INTERVAL '35 minutes', NOW() - INTERVAL '20 minutes', 900, 6, 'https://dailynews.org/tech', 'https://hackernews.com', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36', '203.0.113.32', 'DE', 'Munich', NOW() - INTERVAL '35 minutes', NOW() - INTERVAL '20 minutes');

-- Insert comprehensive event data
-- TechCorp events
INSERT INTO events (id, project_id, session_id, user_id, event_type, event_name, properties, page_url, page_title, referrer, user_agent, ip_address, country, city, screen_width, screen_height, language, platform, created_at, updated_at) VALUES
-- Session sess_tc_001 events
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'page_view', 'Homepage View', '{"source": "organic", "campaign": null}', 'https://techcorp.com/', 'TechCorp - Leading Technology Solutions', 'https://google.com/search?q=techcorp', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours', NOW() - INTERVAL '2 hours'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'click', 'Navigation Click', '{"element": "products_menu", "section": "header"}', 'https://techcorp.com/', 'TechCorp - Leading Technology Solutions', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours' + INTERVAL '2 minutes', NOW() - INTERVAL '2 hours' + INTERVAL '2 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'page_view', 'Products Page View', '{"category": "all", "filter": null}', 'https://techcorp.com/products', 'Our Products - TechCorp', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours' + INTERVAL '3 minutes', NOW() - INTERVAL '2 hours' + INTERVAL '3 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'scroll', 'Page Scroll', '{"scroll_depth": 50, "max_scroll": 75}', 'https://techcorp.com/products', 'Our Products - TechCorp', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours' + INTERVAL '5 minutes', NOW() - INTERVAL '2 hours' + INTERVAL '5 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'click', 'Product Click', '{"product_id": "tc_001", "product_name": "Cloud Server Pro"}', 'https://techcorp.com/products', 'Our Products - TechCorp', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours' + INTERVAL '8 minutes', NOW() - INTERVAL '2 hours' + INTERVAL '8 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_tc_001', 'user_tc_001', 'page_view', 'Product Detail View', '{"product_id": "tc_001", "category": "cloud_services"}', 'https://techcorp.com/products/cloud-server-pro', 'Cloud Server Pro - TechCorp', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.1', 'US', 'San Francisco', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '2 hours' + INTERVAL '10 minutes', NOW() - INTERVAL '2 hours' + INTERVAL '10 minutes'),

-- E-commerce events
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'page_view', 'Homepage View', '{"source": "organic", "utm_campaign": null}', 'https://shop.example.com/', 'Electronics Store - Best Deals Online', 'https://google.com/search?q=electronics', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour', NOW() - INTERVAL '1 hour'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'click', 'Category Click', '{"category": "smartphones", "position": "hero_banner"}', 'https://shop.example.com/', 'Electronics Store - Best Deals Online', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '1 minute', NOW() - INTERVAL '1 hour' + INTERVAL '1 minute'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'page_view', 'Category Page View', '{"category": "smartphones", "sort": "popularity"}', 'https://shop.example.com/smartphones', 'Smartphones - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '2 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '2 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'click', 'Product Click', '{"product_id": "iphone14", "price": 999, "position": 1}', 'https://shop.example.com/smartphones', 'Smartphones - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '4 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '4 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'page_view', 'Product Detail View', '{"product_id": "iphone14", "variant": "128gb_blue"}', 'https://shop.example.com/smartphones/iphone-14', 'iPhone 14 - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '5 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '5 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'click', 'Add to Cart', '{"product_id": "iphone14", "quantity": 1, "price": 999}', 'https://shop.example.com/smartphones/iphone-14', 'iPhone 14 - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '8 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '8 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'page_view', 'Cart View', '{"items_count": 1, "total_value": 999}', 'https://shop.example.com/cart', 'Shopping Cart - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '10 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '10 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'click', 'Checkout Button', '{"cart_value": 999, "items_count": 1}', 'https://shop.example.com/cart', 'Shopping Cart - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '12 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '12 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'page_view', 'Checkout Page View', '{"step": "shipping_info"}', 'https://shop.example.com/checkout', 'Checkout - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '15 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '15 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'form_submit', 'Shipping Form Submit', '{"shipping_method": "express", "estimated_delivery": "2_days"}', 'https://shop.example.com/checkout', 'Checkout - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '18 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '18 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_ec_001', 'user_ec_001', 'purchase', 'Order Complete', '{"order_id": "ORD_2024_001", "total": 999, "currency": "USD", "items": [{"id": "iphone14", "quantity": 1, "price": 999}]}', 'https://shop.example.com/checkout/success', 'Order Complete - Electronics Store', null, 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '203.0.113.10', 'US', 'New York', 375, 812, 'en-US', 'iOS', NOW() - INTERVAL '1 hour' + INTERVAL '25 minutes', NOW() - INTERVAL '1 hour' + INTERVAL '25 minutes'),

-- Blog events
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'page_view', 'Blog Homepage View', '{"source": "organic"}', 'https://myblog.net/', 'Tech & Lifestyle Blog - MyBlog', 'https://google.com/search?q=tech+blog', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes', NOW() - INTERVAL '1 hour 30 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'click', 'Article Click', '{"article_id": "post_001", "title": "The Future of AI", "category": "technology"}', 'https://myblog.net/', 'Tech & Lifestyle Blog - MyBlog', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '2 minutes', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '2 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'page_view', 'Article View', '{"article_id": "post_001", "word_count": 1200, "read_time": "5_min"}', 'https://myblog.net/posts/future-of-ai', 'The Future of AI - MyBlog', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '3 minutes', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '3 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'scroll', 'Article Scroll', '{"scroll_depth": 75, "reading_progress": 60}', 'https://myblog.net/posts/future-of-ai', 'The Future of AI - MyBlog', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '6 minutes', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '6 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'click', 'Social Share', '{"platform": "twitter", "article_id": "post_001"}', 'https://myblog.net/posts/future-of-ai', 'The Future of AI - MyBlog', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '8 minutes', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '8 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440003', 'sess_bg_001', 'user_bg_001', 'form_submit', 'Newsletter Subscribe', '{"email_domain": "gmail.com", "source": "article_bottom"}', 'https://myblog.net/posts/future-of-ai', 'The Future of AI - MyBlog', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.20', 'US', 'Seattle', 1366, 768, 'en-US', 'Windows', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '12 minutes', NOW() - INTERVAL '1 hour 30 minutes' + INTERVAL '12 minutes'),

-- News portal events (recent and active)
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'page_view', 'News Homepage View', '{"source": "direct"}', 'https://dailynews.org/', 'Daily News - Latest Breaking News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '20 minutes', NOW() - INTERVAL '20 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'click', 'Breaking News Click', '{"article_id": "breaking_001", "category": "world", "priority": "high"}', 'https://dailynews.org/', 'Daily News - Latest Breaking News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '19 minutes', NOW() - INTERVAL '19 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'page_view', 'Breaking News Article', '{"article_id": "breaking_001", "publish_time": "2024_current"}', 'https://dailynews.org/breaking/world-summit-2024', 'World Summit 2024 Begins - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '18 minutes', NOW() - INTERVAL '18 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'scroll', 'Article Reading', '{"scroll_depth": 90, "time_on_page": 180}', 'https://dailynews.org/breaking/world-summit-2024', 'World Summit 2024 Begins - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '15 minutes', NOW() - INTERVAL '15 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'click', 'Related Article Click', '{"related_article": "summit_participants", "position": "sidebar"}', 'https://dailynews.org/breaking/world-summit-2024', 'World Summit 2024 Begins - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '12 minutes', NOW() - INTERVAL '12 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'page_view', 'Related Article View', '{"article_id": "summit_participants", "category": "politics"}', 'https://dailynews.org/politics/summit-participants', 'Key Participants at World Summit - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '10 minutes', NOW() - INTERVAL '10 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'click', 'Comment Section Click', '{"action": "view_comments", "comments_count": 24}', 'https://dailynews.org/politics/summit-participants', 'Key Participants at World Summit - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '7 minutes', NOW() - INTERVAL '7 minutes'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_np_001', 'user_np_001', 'form_submit', 'Comment Submit', '{"comment_length": 156, "sentiment": "neutral"}', 'https://dailynews.org/politics/summit-participants', 'Key Participants at World Summit - Daily News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.30', 'US', 'Los Angeles', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '5 minutes', NOW() - INTERVAL '5 minutes');

-- Add some very recent events for real-time testing
INSERT INTO events (id, project_id, session_id, user_id, event_type, event_name, properties, page_url, page_title, referrer, user_agent, ip_address, country, city, screen_width, screen_height, language, platform, created_at, updated_at) VALUES
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440004', 'sess_live_001', 'user_live_001', 'page_view', 'Live Homepage View', '{"source": "direct", "time": "live"}', 'https://dailynews.org/', 'Daily News - Latest Breaking News', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.100', 'US', 'Chicago', 1920, 1080, 'en-US', 'Windows', NOW() - INTERVAL '30 seconds', NOW() - INTERVAL '30 seconds'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440002', 'sess_live_002', 'user_live_002', 'page_view', 'Product Search', '{"search_term": "gaming laptop", "results_count": 25}', 'https://shop.example.com/search?q=gaming+laptop', 'Search Results - Electronics Store', 'https://google.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.100', 'CA', 'Montreal', 1440, 900, 'en-CA', 'macOS', NOW() - INTERVAL '15 seconds', NOW() - INTERVAL '15 seconds'),
(gen_random_uuid(), '550e8400-e29b-41d4-a716-446655440001', 'sess_live_003', 'user_live_003', 'click', 'CTA Button Click', '{"button": "get_started", "section": "hero"}', 'https://techcorp.com/', 'TechCorp - Leading Technology Solutions', 'https://linkedin.com', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '192.0.2.100', 'UK', 'Edinburgh', 375, 812, 'en-GB', 'iOS', NOW() - INTERVAL '5 seconds', NOW() - INTERVAL '5 seconds');

-- Update project statistics to match the seeded data
UPDATE projects SET 
    total_events = (SELECT COUNT(*) FROM events WHERE project_id = projects.id),
    total_sessions = (SELECT COUNT(DISTINCT session_id) FROM events WHERE project_id = projects.id),
    total_users = (SELECT COUNT(DISTINCT user_id) FROM events WHERE project_id = projects.id AND user_id IS NOT NULL),
    last_event_time = (SELECT MAX(created_at) FROM events WHERE project_id = projects.id),
    updated_at = NOW()
WHERE id IN ('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440004');

-- Insert additional session records for live users (for real-time demo)
INSERT INTO sessions (id, user_id, start_time, end_time, duration, event_count, landing_page, referrer, user_agent, ip_address, country, city, created_at, updated_at) VALUES
('sess_live_001', 'user_live_001', NOW() - INTERVAL '1 minute', null, null, 1, 'https://dailynews.org/', null, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36', '203.0.113.100', 'US', 'Chicago', NOW() - INTERVAL '1 minute', NOW() - INTERVAL '30 seconds'),
('sess_live_002', 'user_live_002', NOW() - INTERVAL '45 seconds', null, null, 1, 'https://shop.example.com/search?q=gaming+laptop', 'https://google.com', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36', '198.51.100.100', 'CA', 'Montreal', NOW() - INTERVAL '45 seconds', NOW() - INTERVAL '15 seconds'),
('sess_live_003', 'user_live_003', NOW() - INTERVAL '30 seconds', null, null, 1, 'https://techcorp.com/', 'https://linkedin.com', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15', '192.0.2.100', 'UK', 'Edinburgh', NOW() - INTERVAL '30 seconds', NOW() - INTERVAL '5 seconds');

-- Insert additional user records for live users
INSERT INTO users (id, first_seen, last_seen, session_count, event_count, country, city, created_at, updated_at) VALUES
('user_live_001', NOW() - INTERVAL '1 minute', NOW() - INTERVAL '30 seconds', 1, 1, 'US', 'Chicago', NOW() - INTERVAL '1 minute', NOW() - INTERVAL '30 seconds'),
('user_live_002', NOW() - INTERVAL '45 seconds', NOW() - INTERVAL '15 seconds', 1, 1, 'CA', 'Montreal', NOW() - INTERVAL '45 seconds', NOW() - INTERVAL '15 seconds'),
('user_live_003', NOW() - INTERVAL '30 seconds', NOW() - INTERVAL '5 seconds', 1, 1, 'UK', 'Edinburgh', NOW() - INTERVAL '30 seconds', NOW() - INTERVAL '5 seconds');
